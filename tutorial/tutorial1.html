<!DOCTYPE HTML><html>
<head><meta charset="utf-8"><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" rel="stylesheet"><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script></head>
<body><div class="container"><div class="row"><div class="col-sm-12">
<h1>First steps with <code>funflow</code></h1>
<h2>Introduction</h2>
<p><code>funflow</code> is a library to programmatically author workflows.</p>
<p>Use <code>funflow</code> to write workflows as Direct Acyclic Graphs (DAG) of tasks.</p>
<p>Backed by the powerful abstractions allowed by the Haskell language, <code>funflow</code> workflows have the great property of being tasks themselves.
This allows to define modular workflows that you can compose together.
<em>Write less, do more!</em></p>
<h2>From &quot;workflows and tasks&quot; to &quot;flows&quot;</h2>
<p>In <code>funflow</code>, there is no distinction between a workflow and a task.
Indeed, we can compose tasks into bigger tasks, which would be called workflows.
However, this workflow is nothing more than a task, which is then reusable to build bigger workflows.
Because we can no longer make a distinction between a task and a workflow, we prefer to use the word <em>flow</em>.</p>
<p>A flow is a task that takes an input and produces an output.
This library provides a unique and simple type to define flows:</p>
<pre class="haskell"><code>flow :: Flow input output
</code></pre>
<p><code>input</code> and <code>output</code> are the types of the input and output values of the flow.
For instance a flow working on numbers might have the following type signature:</p>
<pre class="haskell"><code>flow :: Flow Int Int
</code></pre>
<p>taking an integer as input, and producing an integer as its output.</p>
<h2>How to make flows</h2>
<p>In order to build flows, use the function <code>toFlow</code> defined in the module <code>Funflow.Flow</code> (also exported in the module <code>Funflow</code>).
This function can turn a <em>task</em> into a <code>Flow</code>.</p>
<p>But what is a task?
A task is basically the representation of a computation.
A task is not per-se usable as a <code>Flow</code>: we have to <em>strand</em> it to a flow manually using this <code>toFlow</code> function.</p>
<blockquote>
<p>We&#39;ll get to that notion of <em>strand</em> later on, when extending our flow with custom tasks.</p>
</blockquote>
<p>The most basic exemple is the <em>PureTask</em>.
It represent a computation from a pure function, which has not &quot;side task&quot; such as reading a file or running a command.</p>
<p>For example, let us make a function that increments the input by 1.</p>
<pre class="haskell"><code>flow :: Flow Int Int
flow = toFlow . PureTask $ (+1)
</code></pre>
<h4>Smart constructors</h4>
<p>All tasks internally implemented in <code>funflow</code> can be created using <em>smart constructors</em>.</p>
<p>For instance instead of the previous</p>
<pre class="haskell"><code>flow :: Flow Int Int
flow = toFlow . PureTask $ (+1)
</code></pre>
<p>one can write</p>
<pre class="haskell"><code>flow :: Flow Int Int
flow = pureFlow (+1)
</code></pre>
<p>this directly makes a flow: the task is created and <em>stranded</em> internally (we will talk about strands later on).</p>
<h3>Execute a flow</h3>
<p>Everything needed to run flows is available in the module <code>Funflow.Run</code>.
In order to run a flow, use the function <code>runFlow</code>.
It is used as follow:</p>
<pre class="haskell"><code>runFlow flow input
</code></pre>
<p>where</p>
<ul>
<li><code>flow</code> is the <code>Flow</code> to run</li>
<li><code>input</code> is the input, with the same type as the input type of <code>flow</code></li>
</ul>
<p>It will return a result of type <code>IO output</code> where <code>output</code> is the output type of <code>flow</code>.</p>
<p>Let&#39;s run our flow:</p>
<div class="row">
<div class="col-md-1">
In
</div>
<div class="col-md-11">
<pre class="haskell"><code>runFlow flow (1 :: Int) :: IO Int
</code></pre>
</div>
</div>
<div class="row">
<div class="col-md-1">
Out
</div>
<div class="col-md-11">
<pre class="text"><code>2
</code></pre>
</div>
</div>
<p>As expected, it returned 2.</p>
<h3>Available tasks</h3>
<p>Available tasks are defined in <code>Funflow.Tasks</code>, and their smart constructors are defined in <code>Funflow.Flow</code></p>
</div></div></div></body></html>
