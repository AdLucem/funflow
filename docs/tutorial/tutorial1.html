<!DOCTYPE HTML><html>
<head><meta charset="utf-8"><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" rel="stylesheet"><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script></head>
<body><div class="container"><div class="row"><div class="col-sm-12">
<h1>First steps with <code>funflow</code></h1>
<h2>Introduction</h2>
<p><code>funflow</code> is a library to programmatically author workflows.</p>
<p>Use <code>funflow</code> to author workflows as Direct Acyclic Graphs of tasks.</p>
<p>Backed by the powerful abstractions allowed by the Haskell language, <code>funflow</code> workflows can be themsleves used as tasks.
This allows to define modular workflows that you can compose together.
<em>Write less, do more!</em></p>
<h2>From &quot;workflows and tasks&quot; to &quot;flows&quot;</h2>
<p>In <code>funflow</code>, there is no distinction between a workflow and a task.
Indeed, we can compose tasks into bigger tasks, which would be called workflows, but then again it would be a task that is itself reusable to build bigger tasks.
Because we can no longer make a distinction between a task and a workflow, we prefer to use the word <em>flow</em>.</p>
<p>A flow is a task that takes an input and produces an output.
This library provides a unique and simple type to define flows:</p>
<pre class="haskell"><code>flow :: Flow input output
</code></pre>
<p><code>input</code> and <code>output</code> are the types of the flow.
For instance a flow working on numbers might have the following type signature:</p>
<pre class="haskell"><code>flow :: Flow Int Int
</code></pre>
<h2>How to make flows</h2>
<p>In order to build flows, use the function <code>toFlow</code> defined in the module <code>Funflow.Flow</code> (also exported in the module <code>Funflow</code>).
This function can turn an <em>&quot;effect&quot;</em> into a <code>Flow</code>.</p>
<p>But what is an effect?
An effect is basically the representation of a computation.
An effect is not per-se usable as a <code>Flow</code>: we have to &quot;promote&quot; it to a flow manually using this <code>toFlow</code> function.</p>
<p>The most basic exemple is the <em>PureEffect</em>.
It represent the computation of running a pure function (a function is pure if it does not have any &quot;side effect&quot;, such as reading a file or running a command).</p>
<p>For example, let us make a function that increments the input by 1.</p>
<pre class="haskell"><code>flow :: Flow Int Int
flow = toFlow . PureEffect $ (+1)
</code></pre>
<p>Most of the time you will write:</p>
<pre class="haskell"><code>flowName :: Flow inputType outputType
flowName = toFlow . EffectName $ (things to configure your effect)
</code></pre>
<h3>Execute a flow</h3>
<p>Everything needed to run flows is available in the module <code>Funflow.Run</code>.
In order to run a flow, use the function <code>runFlow</code>.
It is used as follow:</p>
<pre class="haskell"><code>runFlow config flow input
</code></pre>
<p>where</p>
<ul>
<li><code>config</code> is the execution configuration, we will get to that later and use <code>defaultExecutionConfig</code> for now</li>
<li><code>flow</code> is the <code>Flow</code> to run</li>
<li><code>input</code> is the input, with the same type as the input type of <code>flow</code></li>
</ul>
<p>It will return a result of type <code>IO output</code> where <code>output</code> is the output type of <code>flow</code>.</p>
<p>Let&#39;s run our flow:</p>
<div class="row">
<div class="col-md-1">
In
</div>
<div class="col-md-11">
<pre class="haskell"><code>runFlow defaultExecutionConfig flow (1 :: Int) :: IO Int
</code></pre>
</div>
</div>
<div class="row">
<div class="col-md-1">
Out
</div>
<div class="col-md-11">
<pre class="text"><code>2
</code></pre>
</div>
</div>
<p>As expected, it returned 2.</p>
<p>You can explore the available smart constructors in the module <code>Funflow.Flows</code>.</p>
</div></div></div></body></html>
